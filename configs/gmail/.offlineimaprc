[general]
accounts = Gmail
maxsyncaccounts = 1
# IMPORTANT: Use the full absolute path here
pythonfile = /home/YOURLINUXUSERNAMEHERE/get_mail_secret.py

[Account Gmail]
localrepository = LocalRepo
remoterepository = RemoteRepo

[Repository LocalRepo]
type = Maildir
localfolders = ~/.mail/gmail

[Repository RemoteRepo]
type = IMAP
remotehost = imap.gmail.com
remoteuser = YOURGMAILEMAILHERE
auth_mechanisms = XOAUTH2
oauth2_request_url = get_pass_secret("gmailcom/tokenendpoint")

# Switch back to _eval and wrap the function call in quotes
oauth2_client_id_eval = get_pass_secret("gmailcom/clientid")
oauth2_client_secret_eval = get_pass_secret("gmailcom/clientsecret")
oauth2_refresh_token_eval = get_pass_secret("gmailcom/refreshtoken")

ssl = yes
sslcacertfile = /etc/ssl/certs/ca-certificates.crt
